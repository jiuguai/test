<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>index</title>
	<style>
		*{
			font-family: 微软雅黑;
		}
		#dv{
			width: 100px;
			height: 100px;
			position: fixed;
			border-radius: 50%;
			background: #fa9;
			opacity: 0.5;
		
		}
	</style>
		
</head>
<body>
	<div id="dv"></div>
	<h1>00000001aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</h1>
	<h1>00000003333333333333333333333333332</h1>
	<h1>00000003</h1>
	<h1>00000004</h1>
	<h1>00000005</h1>
	<h1>00000ssssssssssssssss006</h1>
	<h1>00000007</h1>
	<h1>00000008</h1>
	<h1>00000009</h1>
	<h1>00000010</h1>
	<h1>00000011</h1>
	<h1>00000012</h1>
	<h1>00xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx000013</h1>
	<h1>00000014</h1>
	<h1>00000015</h1>
	<h1>00000016</h1>
	<h1>00000017</h1>
	<h1>00000018</h1>
	<h1>00000019</h1>
	<h1>00000020</h1>
	<h1>00000021</h1>
	<h1>00000022</h1>
	<h1>00000023</h1>
	<h1>00000024</h1>
	<h1>00000025</h1>
	<h1>00000026</h1>
	<h1>00000027</h1>
	<h1>00000028</h1>
	<h1>00000029</h1>
	<h1>00000030</h1>
	<h1>00000031</h1>
	<h1>00000046</h1>
	<h1>00000047</h1>
	<h1>00000048</h1>
	<h1>00000049</h1>
	<h1>00000050</h1>
</body>
<script>

	dv = document.getElementById('dv')
	l = 0
	t = 0
	isDown = false
	dv.onmousedown = function(e){

		if (e.button == 0)
		{
			l = e.clientX - dv.offsetLeft
			t = e.clientY - dv.offsetTop
			isDown = true
		}
		
	}

	window.onmousemove = function(e){
		if (!isDown){
			return
		}
		nl = e.clientX - l
		nt = e.clientY - t
		var ow = dv.offsetWidth
		var	oh = dv.offsetHeight
		var	cw = document.documentElement.clientWidth
		var ch = document.documentElement.clientHeight

		//文档高宽
		//宽调整
		if (nl+ow >= cw){
			nl = cw - ow
		}
		//高调整
		if (nt+oh >= ch){
			nt = ch - oh
		}
			
		nl = nl <= 0 ? 0 : nl
		nt = nt <= 0 ? 0 : nt

		dv.style.left = nl + 'px'
		dv.style.top  = nt + 'px'
		
	}

	window.onmouseup = function(e){
		if(e.button==0){
			isDown = false
		}
		
	}
	
	
</script>
</html>
